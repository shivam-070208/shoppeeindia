model Deal {
  id              String @id @default(auto()) @map("_id") @db.ObjectId()
  slug            String @unique
  imageUrl        String
  originalPrice   Int
  dealPrice       Int
  discountPercent Int
  affiliateUrl    String

  storeId    String   @db.ObjectId
  categoryId String   @db.ObjectId
  createdBy  String   @db.ObjectId
  expiryDate DateTime

  store       Store        @relation("DealStore", fields: [storeId], references: [id], onDelete: Cascade)
  creator     Admin        @relation("DealCreatedBy", fields: [createdBy], references: [id], onDelete: Cascade)
  favourites  Favourite[]  @relation("DealFavourites")
  category    Category     @relation("DealsCategory", fields: [categoryId], references: [id])
  priceAlerts PriceAlert[]
  clicks      Click[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("deal")
}
